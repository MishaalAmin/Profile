start({"html":"<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"utf-8\">\r\n    <title>Parallax backgrounds with centered content</title>\r\n    <meta name=\"description\" content=\"Parallax backgrounds with centered content\">\r\n</head>\r\n<body>\r\n  \r\n<div class=\"fullscreen background parallax\" style=\"background-image:url('http://www.minimit.com/images/picjumbo.com_IMG_6648.jpg');\" data-img-width=\"1600\" data-img-height=\"1064\" data-diff=\"100\">\r\n    <div class=\"content-a\">\r\n        <div class=\"content-b\">\r\n            Centered content\r\n        </div>\r\n    </div>\r\n</div>\r\n  \r\n<div class=\"not-fullscreen background parallax\" style=\"background-image:url('http://www.minimit.com/images/picjumbo.com_IMG_6643.jpg');\" data-img-width=\"1600\" data-img-height=\"1064\" data-diff=\"100\">\r\n    <div class=\"content-a\">\r\n        <div class=\"content-b\">\r\n            Centered content\r\n        </div>\r\n    </div>\r\n</div>\r\n  \r\n<section class=\"not-fullscreen\">\r\n    <div class=\"content-a\">\r\n        <div class=\"content-b\">\r\n            Centered content\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<div class=\"fullscreen background parallax\" style=\"background-image:url('http://www.minimit.com/images/picjumbo.com_DSC_3274.jpg');\" data-img-width=\"1600\" data-img-height=\"1064\" data-diff=\"100\" data-oriz-pos=\"100%\">\r\n    <div class=\"content-a\">\r\n        <div class=\"content-b\">\r\n            Centered content\r\n        </div>\r\n    </div>\r\n</div>\r\n  \r\n<section class=\"fullscreen\">\r\n    <div class=\"content-a\">\r\n        <div class=\"content-b\">\r\n            Centered content\r\n        </div>\r\n    </div>\r\n</section>\r\n  \r\n<div class=\"fullscreen background parallax\" style=\"background-image:url('http://www.minimit.com/images/picjumbo.com_IMG_9857.jpg');\" data-img-width=\"1600\" data-img-height=\"1064\" data-diff=\"100\">\r\n    <div class=\"content-a\">\r\n        <div class=\"content-b\">\r\n            <br>Content overflow<br>Content overflow\r\n            <br>Content overflow<br>Content overflow\r\n            <br>Content overflow<br>Content overflow\r\n            <br>Content overflow<br>Content overflow\r\n            <br><br>\r\n        </div>\r\n    </div>\r\n</div>\r\n  \r\n<div class=\"not-fullscreen background parallax\" style=\"background-image:url('http://www.minimit.com/images/picjumbo.com_IMG_8697.jpg');\" data-img-width=\"1600\" data-img-height=\"1064\" data-diff=\"100\">\r\n    <div class=\"content-a\">\r\n        <div class=\"content-b\">\r\n            Centered content\r\n        </div>\r\n    </div>\r\n</div>\r\n  \r\n<section class=\"fullscreen\">\r\n    <div class=\"content-a\">\r\n        <div class=\"content-b\">\r\n            Centered content\r\n        </div>\r\n    </div>\r\n</section>\r\n  \r\n<\!-- include jQuery -->\r\n<script src=\"http://code.jquery.com/jquery-1.10.2.min.js\"><\/script>\r\n  \r\n</body>\r\n</html>","css":"/* background setup */\r\n.background {\r\n    background-repeat:no-repeat;\r\n    /* custom background-position */\r\n    background-position:50% 50%;\r\n    /* ie8- graceful degradation */\r\n    background-position:50% 50%\\9 !important;\r\n}\r\n\r\n/* fullscreen setup */\r\nhtml, body {\r\n    /* give this to all tags from html to .fullscreen */\r\n    height:100%;\r\n}\r\n.fullscreen,\r\n.content-a {\r\n    width:100%;\r\n    height:100%;\r\n    overflow:hidden;\r\n}\r\n.fullscreen.overflow,\r\n.fullscreen.overflow .content-a {\r\n    height:auto;\r\n    min-height:100%;\r\n}\r\n\r\n/* content centering styles */\r\n.content-a {\r\n    display:table;\r\n}\r\n.content-b {\r\n\tdisplay:table-cell;\r\n    position:relative;\r\n\tvertical-align:middle;\r\n\ttext-align:center;\r\n}\r\n\r\n/* visual styles */\r\nbody{\r\n    margin:0;\r\n    font-family:sans-serif;\r\n    font-size:28px;\r\n    line-height:100px;\r\n\tcolor:#ffffff;\r\n    text-align:center;\r\n}\r\nsection {\r\n\tbackground:#9ed100;\r\n}\r\n.not-fullscreen {\r\n    height:50%;\r\n}","javascript":"/* detect touch */\r\nif(\"ontouchstart\" in window){\r\n    document.documentElement.className = document.documentElement.className + \" touch\";\r\n}\r\nif(!$(\"html\").hasClass(\"touch\")){\r\n    /* background fix */\r\n    $(\".parallax\").css(\"background-attachment\", \"fixed\");\r\n}\r\n\r\n/* fix vertical when not overflow\r\ncall fullscreenFix() if .fullscreen content changes */\r\nfunction fullscreenFix(){\r\n    var h = $('body').height();\r\n    // set .fullscreen height\r\n    $(\".content-b\").each(function(i){\r\n        if($(this).innerHeight() > h){ $(this).closest(\".fullscreen\").addClass(\"overflow\");\r\n        }\r\n    });\r\n}\r\n$(window).resize(fullscreenFix);\r\nfullscreenFix();\r\n\r\n/* resize background images */\r\nfunction backgroundResize(){\r\n    var windowH = $(window).height();\r\n    $(\".background\").each(function(i){\r\n        var path = $(this);\r\n        // variables\r\n        var contW = path.width();\r\n        var contH = path.height();\r\n        var imgW = path.attr(\"data-img-width\");\r\n        var imgH = path.attr(\"data-img-height\");\r\n        var ratio = imgW / imgH;\r\n        // overflowing difference\r\n        var diff = parseFloat(path.attr(\"data-diff\"));\r\n        diff = diff ? diff : 0;\r\n        // remaining height to have fullscreen image only on parallax\r\n        var remainingH = 0;\r\n        if(path.hasClass(\"parallax\") && !$(\"html\").hasClass(\"touch\")){\r\n            var maxH = contH > windowH ? contH : windowH;\r\n            remainingH = windowH - contH;\r\n        }\r\n        // set img values depending on cont\r\n        imgH = contH + remainingH + diff;\r\n        imgW = imgH * ratio;\r\n        // fix when too large\r\n        if(contW > imgW){\r\n            imgW = contW;\r\n            imgH = imgW / ratio;\r\n        }\r\n        //\r\n        path.data(\"resized-imgW\", imgW);\r\n        path.data(\"resized-imgH\", imgH);\r\n        path.css(\"background-size\", imgW + \"px \" + imgH + \"px\");\r\n    });\r\n}\r\n$(window).resize(backgroundResize);\r\n$(window).focus(backgroundResize);\r\nbackgroundResize();\r\n\r\n/* set parallax background-position */\r\nfunction parallaxPosition(e){\r\n    var heightWindow = $(window).height();\r\n    var topWindow = $(window).scrollTop();\r\n    var bottomWindow = topWindow + heightWindow;\r\n    var currentWindow = (topWindow + bottomWindow) / 2;\r\n    $(\".parallax\").each(function(i){\r\n        var path = $(this);\r\n        var height = path.height();\r\n        var top = path.offset().top;\r\n        var bottom = top + height;\r\n        // only when in range\r\n        if(bottomWindow > top && topWindow < bottom){\r\n            var imgW = path.data(\"resized-imgW\");\r\n            var imgH = path.data(\"resized-imgH\");\r\n            // min when image touch top of window\r\n            var min = 0;\r\n            // max when image touch bottom of window\r\n            var max = - imgH + heightWindow;\r\n            // overflow changes parallax\r\n            var overflowH = height < heightWindow ? imgH - height : imgH - heightWindow; // fix height on overflow\r\n            top = top - overflowH;\r\n            bottom = bottom + overflowH;\r\n            // value with linear interpolation\r\n            var value = min + (max - min) * (currentWindow - top) / (bottom - top);\r\n            // set background-position\r\n            var orizontalPosition = path.attr(\"data-oriz-pos\");\r\n            orizontalPosition = orizontalPosition ? orizontalPosition : \"50%\";\r\n            $(this).css(\"background-position\", orizontalPosition + \" \" + value + \"px\");\r\n        }\r\n    });\r\n}\r\nif(!$(\"html\").hasClass(\"touch\")){\r\n    $(window).resize(parallaxPosition);\r\n    //$(window).focus(parallaxPosition);\r\n    $(window).scroll(parallaxPosition);\r\n    parallaxPosition();\r\n}\r\n\r\n","url":"http://jsbin.com/naboj/186"}, {"state":{"title":"Parallax backgrounds with centered content","description":"Parallax backgrounds with centered content","token":"wxyfkMqU-mGZJR1IfnEkr-_1PczqnjACTLZo","stream":false,"streaming":false,"code":"naboj","revision":186,"processors":{"html":"html","css":"css","javascript":"javascript"},"checksum":null,"metadata":{"archive":0,"avatar":"https://www.gravatar.com/avatar/501526fdc5c88dfdc7397d82d46c5d34?s=29&d=https%3A%2F%2Fjsbin-gravatar.herokuapp.com%2Fminimit.png","created":"2014-02-27T14:42:59.000Z","last_login":"2016-11-30T15:51:06.000Z","name":"minimit","pro":0,"summary":"Parallax backgrounds with centered content","updated":"2016-11-30T15:51:06.000Z","visibility":"public","last_updated":"2015-11-14T16:52:08.000Z"},"latest":true},"name":"JS Bin","settings":{"panels":["html","javascript","css","live"]},"saveDisabled":true,"embed":true}, this, document);
